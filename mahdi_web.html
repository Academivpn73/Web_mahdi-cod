<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ØªØ¨Ø¯ÛŒÙ„ Ù…Ø³Ø¦Ù„Ù‡ Ø¨Ù‡ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ùˆ Ú©Ø¯</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: false });</script>
  <style>
    body {
      font-family: "Vazirmatn", sans-serif;
      background: #f0f0f0;
      direction: rtl;
      padding: 20px;
      color: #222;
    }
    h1, h2 {
      color: #0077cc;
    }
    textarea, button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }
    textarea {
      background: #fff;
      color: #000;
      resize: vertical;
    }
    button {
      background: #0077cc;
      color: #fff;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #005fa3;
    }
    .section {
      margin-top: 30px;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    pre {
      background: #222;
      color: #0f0;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
    }
    #output {
      background: #ffe082;
      padding: 10px;
      margin-top: 10px;
      border-radius: 8px;
    }
    .mermaid {
      direction: ltr;
    }
    ul {
      line-height: 1.8;
    }
  </style>
</head>
<body>

  <h1>ğŸ”„ ØªØ¨Ø¯ÛŒÙ„ Ù…Ø³Ø¦Ù„Ù‡ Ø¨Ù‡ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…ØŒ ÙÙ„ÙˆÚ†Ø§Ø±Øª Ùˆ Ú©Ø¯</h1>

  <div class="section">
    <label>ğŸ§  Ù…Ø³Ø¦Ù„Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</label>
    <textarea id="problem" rows="4" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¹Ø¯Ø¯ÛŒ Ø§Ø² Ú©Ø§Ø±Ø¨Ø± Ø¨Ú¯ÛŒØ± Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù† ÙØ±Ø¯ Ø§Ø³Øª ÛŒØ§ Ø²ÙˆØ¬"></textarea>
    <button onclick="generate()">ØªÙˆÙ„ÛŒØ¯ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…</button>
  </div>

  <div class="section">
    <h2>ğŸ“Š ÙÙ„ÙˆÚ†Ø§Ø±Øª Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…</h2>
    <div id="flowchart"></div>
    <h3>ğŸ“ ØªÙˆØ¶ÛŒØ­ Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…:</h3>
    <ul id="steps"></ul>
  </div>

  <div class="section">
    <h2>ğŸ’» Ú©Ø¯ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª</h2>
    <pre id="codeBlock"></pre>
    <button onclick="runCode()">â–¶ï¸ Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯</button>
    <div id="output"></div>
  </div>

  <script>
    function generate() {
      const problem = document.getElementById("problem").value;
      let flow = "";
      let code = "";
      let steps = [];

      if (problem.includes("ÙØ±Ø¯") || problem.includes("Ø²ÙˆØ¬")) {
        flow = `graph TD
        A[Ø´Ø±ÙˆØ¹] --> B[Ú¯Ø±ÙØªÙ† Ø¹Ø¯Ø¯ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±]
        B --> C{Ø¢ÛŒØ§ Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ Ø§Ø³ØªØŸ}
        C -- Ø¨Ù„Ù‡ --> D[Ù†Ù…Ø§ÛŒØ´ "Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ Ø§Ø³Øª"]
        C -- Ø®ÛŒØ± --> E[Ù†Ù…Ø§ÛŒØ´ "Ø¹Ø¯Ø¯ ÙØ±Ø¯ Ø§Ø³Øª"]
        D --> F[Ù¾Ø§ÛŒØ§Ù†]
        E --> F[Ù¾Ø§ÛŒØ§Ù†]`;

        code = `let num = prompt("ÛŒÚ© Ø¹Ø¯Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
if (num % 2 === 0) {
  alert("Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ Ø§Ø³Øª");
} else {
  alert("Ø¹Ø¯Ø¯ ÙØ±Ø¯ Ø§Ø³Øª");
}`;

        steps = [
          "ğŸ”¹ Ø´Ø±ÙˆØ¹ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…",
          "ğŸ”¹ Ø§Ø² Ú©Ø§Ø±Ø¨Ø± ÛŒÚ© Ø¹Ø¯Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒØ´ÙˆØ¯",
          "ğŸ”¹ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø¢ÛŒØ§ Ø¹Ø¯Ø¯ Ø¨Ø± Û² Ø¨Ø®Ø´â€ŒÙ¾Ø°ÛŒØ± Ø§Ø³Øª ÛŒØ§ Ù†Ù‡",
          "ğŸ”¹ Ø§Ú¯Ø± Ø¨Ø®Ø´â€ŒÙ¾Ø°ÛŒØ± Ø¨ÙˆØ¯ØŒ Ù¾ÛŒØ§Ù… 'Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ Ø§Ø³Øª' Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯",
          "ğŸ”¹ Ø§Ú¯Ø± Ù†Ø¨ÙˆØ¯ØŒ Ù¾ÛŒØ§Ù… 'Ø¹Ø¯Ø¯ ÙØ±Ø¯ Ø§Ø³Øª' Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯",
          "ğŸ”¹ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù¾Ø§ÛŒØ§Ù† Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯"
        ];
      } else {
        flow = `graph TD
        A[Ø´Ø±ÙˆØ¹] --> B[Ú¯Ø±ÙØªÙ† ÙˆØ±ÙˆØ¯ÛŒ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±]
        B --> C[Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø§Ø¯Ù‡]
        C --> D[Ù†Ù…Ø§ÛŒØ´ Ø®Ø±ÙˆØ¬ÛŒ]
        D --> E[Ù¾Ø§ÛŒØ§Ù†]`;

        code = `let input = prompt("ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
let result = "Ø®Ø±ÙˆØ¬ÛŒ: " + input;
alert(result);`;

        steps = [
          "ğŸ”¹ Ø´Ø±ÙˆØ¹ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…",
          "ğŸ”¹ Ø¯Ø±ÛŒØ§ÙØª ÙˆØ±ÙˆØ¯ÛŒ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±",
          "ğŸ”¹ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³Ø§Ø¯Ù‡ Ø±ÙˆÛŒ ÙˆØ±ÙˆØ¯ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…ØªÙ†)",
          "ğŸ”¹ Ù†Ù…Ø§ÛŒØ´ Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±",
          "ğŸ”¹ Ù¾Ø§ÛŒØ§Ù† Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…"
        ];
      }

      document.getElementById("flowchart").innerHTML = `<div class="mermaid">${flow}</div>`;
      mermaid.init(undefined, document.querySelectorAll(".mermaid"));
      document.getElementById("codeBlock").textContent = code;

      const stepList = document.getElementById("steps");
      stepList.innerHTML = "";
      steps.forEach(step => {
        const li = document.createElement("li");
        li.textContent = step;
        stepList.appendChild(li);
      });

      document.getElementById("output").textContent = "";
    }

    function runCode() {
      try {
        eval(document.getElementById("codeBlock").textContent);
      } catch (e) {
        document.getElementById("output").textContent = "âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø¬Ø±Ø§: " + e.message;
      }
    }
  </script>

</body>
</html>
